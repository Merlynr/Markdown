---
title: 2019-5-3隐式, 显式, 名义和鸭子类型
date: 2019-5-3
tags: js,33,ECMAScript
categories: 前端
copyright: true
---

### 类型转换

#### ECMAScript 类型转换

1. 转换成字符串

> ECMAScript 的 <font color='#66ff66'>Boolean 值、数字和字符串</font>的原始值的有趣之处在于它们是伪对象，这意味着它们实际上具有属性和方法。

- Boolean 类型的 toString() 方法只是输出 "true" 或 "false"，结果由变量的值决定

![enter description here](https://www.github.com/Merlynr/Markdown/raw/noteImg/小书匠/1556821480960.png)

- Number 类型的 toString() 方法比较特殊，它有两种模式，即默认模式和基模式。采用默认模式，toString() 方法只是用相应的字符串输出数字值（无论是整数、浮点数还是科学计数法）

![默认模式](https://www.github.com/Merlynr/Markdown/raw/noteImg/小书匠/1556821562124.png)

**在默认模式中，无论最初采用什么表示法声明数字，Number 类型的 toString() 方法返回的都是数字的十进制表示。因此，以八进制或十六进制字面量形式声明的数字输出的都是十进制形式的。**

![基模式](https://www.github.com/Merlynr/Markdown/raw/noteImg/小书匠/1556821638555.png)

**采用 Number 类型的 toString() 方法的基模式，可以用不同的基输出数字，例如二进制的基是 2，八进制的基是 8，十六进制的基是 16。
基只是要转换成的基数的另一种加法而已，它是 toString() 方法的参数**

2. 转换成数字

> ECMAScript 提供了两种把非数字的原始值转换成数字的方法，即 parseInt() 【整数】和 parseFloat()【浮点数】，两个函数处理方式相似，从位置 0 开始查看每个字符，直到找到第一个非有效的字符为止，然后把该字符之前的字符串转换成整数。。

- parseInt()

- 1. parseInt() 方法首先查看位置 0 处的字符，判断它是否是个有效数字；如果不是，该方法将返回 NaN，不再继续执行其他操作。但如果该字符是有效数字，该方法将查看位置 1 处的字符，进行同样的测试。这一过程将持续到发现非有效数字的字符为止，此时 parseInt() 将把该字符之前的字符串转换成数字。

![parseInt默认模式](https://www.github.com/Merlynr/Markdown/raw/noteImg/小书匠/1556821874471.png)

- 2. parseInt() 方法还有基模式，可以把二进制、八进制、十六进制或其他任何进制的字符串转换成整数。基是由 parseInt() 方法的第二个参数指定的

![parseInt基模式](https://www.github.com/Merlynr/Markdown/raw/noteImg/小书匠/1556821922395.png)

- parseFloat()

- 1. 第一个出现的小数点是有效字符。如果有两个小数点，第二个小数点将被看作无效的。parseFloat() 会把这个小数点之前的字符转换成数字。这意味着字符串 "11.22.33" 将被解析成 11.22。
- 2. 字符串必须以十进制形式表示浮点数，而不是用八进制或十六进制。该方法会忽略前导 0，所以八进制数 0102 将被解析为 102。对于十六进制数 0xA，该方法将返回 NaN，因为在浮点数中，x 不是有效字符。（注释：经测试，具体的浏览器实现会返回 0，而不是 NaN。）
- 3. parseFloat() 方法也没有基模式。

![parseFloat()](https://www.github.com/Merlynr/Markdown/raw/noteImg/小书匠/1556822401467.png)

3. 强制类型转换(type casting）

- Boolean(value) - 把给定的值转换成 Boolean 型；
- Number(value) - 把给定的值转换成数字（可以是整数或浮点数）；
- String(value) - 把给定的值转换成字符串；

3.1 Boolean() 函数

![Boolean()](https://www.github.com/Merlynr/Markdown/raw/noteImg/小书匠/1556822855559.png)

3.2 Number() 函数

![Number()](https://www.github.com/Merlynr/Markdown/raw/noteImg/小书匠/1556822802664.png)

3.3 String() 函数

![String()](https://www.github.com/Merlynr/Markdown/raw/noteImg/小书匠/1556822891584.png)

**强制转换成字符串和调用 toString() 方法的唯一不同之处在于，对 null 和 undefined 值强制类型转换可以生成字符串而不引发错误**






<font color='#66ff66'></font>